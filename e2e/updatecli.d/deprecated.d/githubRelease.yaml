---
title: Test source githubRelease

scms:
  local:
    disabled: true

sources:
  kubectl:
    name: "Get Latest kubectl release version"
    kind: "githubrelease"
    spec:
      owner: "kubernetes"
      repository: "kubectl"
      token: '{{ requiredEnv "GITHUB_TOKEN" }}'
      username: '{{ requiredEnv "GITHUB_ACTOR" }}'
      versionfilter:
        kind: "latest"

conditions:
  kubectl:
    name: "Get Latest updatecli release version"
    kind: "githubrelease"
    sourceid: kubectl
    spec:
      owner: "kubernetes"
      repository: "kubectl"
      token: '{{ requiredEnv "GITHUB_TOKEN" }}'
      username: '{{ requiredEnv "GITHUB_ACTOR" }}'
