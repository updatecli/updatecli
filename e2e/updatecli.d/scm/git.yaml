---
title: "Test Git scm"

scms:
  scenario-1:
    kind: git
    spec:
      username: '{{ requiredEnv "UPDATECLI_GITHUB_ACTOR" }}'
      password: '{{ requiredEnv "UPDATECLI_GITHUB_TOKEN" }}'
      url: "https://github.com/updatecli/experiment.git"
      branch: "main"

  scenario-2:
    kind: git
    spec:
      url: "https://github.com/updatecli/updatecli.git"
      branch: "main"
      gpg:
        signingKey: | 
          -----BEGIN PGP PUBLIC KEY BLOCK-----
          mDMEYitSPBYJKwYBBAHaRw8BAQdAR3mMGagDsa1P2HziXehsurCBw5ak58aNnfPP
          uRQtcq60SlVwZGF0ZWNsaSBUZXN0aW5nIEtleSAoVXNlIGZvciB0ZXN0aW5nIGNv
          bW1pdCBzaWduaW5nKSA8aW5mb0B1cGRhdGVjbGkuaW8+iI8EExYKADcWIQSfbrE/
          jBl2/jyNP1zp/q0C4DwCsAUCYitSPAIbAwULCQgHAwQVCgkIBRYDAgEAAh4FAheA
          AAoJEOn+rQLgPAKwbFwBALgzusdciqTZVvzTT/MG9Rtba6FPUUR/3pZn0t5mYrT4
          AQDQjBipUNWOwQ6T7teBJuqZS2hFU6oMDv9cSzjNjrxQArg4BGIrUjwSCisGAQQB
          l1UBBQEBB0CAKp9rGdo2JojPTnq/I2ZqPx8YydCTPDKQzRGv54bSDgMBCAeIeAQY
          FgoAIBYhBJ9usT+MGXb+PI0/XOn+rQLgPAKwBQJiK1I8AhsMAAoJEOn+rQLgPAKw
          fH0A/2ZmCpmuGN4grG8UJwAbCHzrbTuWV456R2k6+MxKMiDmAQD5pOgx+Xs0PXyz
          rxOShppuh5wlhB0xMsx4iZJmRczPDQ==
          =FiJF
          -----END PGP PUBLIC KEY BLOCK-----
        passphrase: updatecli

  scenario-3:
    kind: git
    spec:
      url: "git@github.com:updatecli/updatecli.git"
      branch: "main"

sources:
  scenario-1:
    name: "Scenario 1"
    kind: file
    scmID: scenario-1
    spec:
      file: README.md
      line: 1
  scenario-2:
    name: "Scenario 2"
    kind: file
    scmID: scenario-2
    spec:
      file: README.adoc
      line: 1
  scenario-3:
    name: "Scenario 3"
    kind: file
    scmID: scenario-3
    spec:
      file: README.adoc
      line: 1

targets:
  scenario-2:
    name: "Scenario 2"
    kind: file
    scmID: scenario-2
    sourceid: scenario-2
    transformers:
      - addPrefix: "Generated from Venom"
    spec:
      file: README.adoc
  
