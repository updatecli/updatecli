name: Test Github Release

sources:
  default:
    name: Default Get Latest Release
    kind: githubrelease
    spec:
      owner: updatecli
      repository: updatecli
      token: '{{ requiredEnv "GITHUB_TOKEN" }}'
      username: '{{ requiredEnv "GITHUB_ACTOR" }}'
  prerelease:
    name: Get Latest Prelease
    kind: githubrelease
    spec:
      owner: updatecli
      repository: updatecli-action
      token: '{{ requiredEnv "GITHUB_TOKEN" }}'
      username: '{{ requiredEnv "GITHUB_ACTOR" }}'
      type: 
        - prerelease
  release:
    name: Get Latest Release
    kind: githubrelease
    spec:
      owner: updatecli
      repository: updatecli
      token: '{{ requiredEnv "GITHUB_TOKEN" }}'
      username: '{{ requiredEnv "GITHUB_ACTOR" }}'
      type:
        - release
        - draft
conditions:
  default:
    name: Default Get Latest Release
    kind: githubrelease
    sourceid: default
    spec:
      owner: updatecli
      repository: updatecli
      token: '{{ requiredEnv "GITHUB_TOKEN" }}'
      username: '{{ requiredEnv "GITHUB_ACTOR" }}'
  prerelease:
    name: Get Latest Prelease
    kind: githubrelease
    sourceid: prerelease
    spec:
      owner: updatecli
      repository: updatecli-action
      token: '{{ requiredEnv "GITHUB_TOKEN" }}'
      username: '{{ requiredEnv "GITHUB_ACTOR" }}'
      type:
        - prerelease
  release:
    name: Get Latest Release
    kind: githubrelease
    sourceid: release
    spec:
      owner: updatecli
      repository: updatecli
      token: '{{ requiredEnv "GITHUB_TOKEN" }}'
      username: '{{ requiredEnv "GITHUB_ACTOR" }}'
      type:
        - release
        - draft

