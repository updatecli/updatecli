sources:
  ami1:
    name: "Get latest jenkins-agent-ubuntu* ami"
    kind: aws/ami
    spec: 
      region: us-east-2
      filters:
        - name: "name"
          values: "jenkins-agent-ubuntu*"
  ami2:
    name: "Get latest  ami matching ami-0fbefe596801fce98"
    kind: aws/ami
    spec: 
      region: us-east-2
      filters:
        - name: "image-id"
          values: "ami-0fbefe596801fce98"

conditions:
  ami1:
    name: Test if ami1 exist
    sourceID: ami1
    kind: aws/ami
    spec:
      region: us-east-2
  ami2:
    name: Test if ami2 exist
    sourceID: ami2
    kind: aws/ami
    spec:
      region: us-east-2
targets:
  file:
    name: Update fictive file
    sourceID: ami1
    kind: file
    spec:
      file: /tmp/updatecli_cli_test 
